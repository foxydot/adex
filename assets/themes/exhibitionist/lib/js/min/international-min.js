var controller;jQuery(document).ready(function($){function t(t){var i,o=$(t).css("backgroundImage").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],e=new Image;e.src=o;var a=e.width,h=e.height,r=$(t).width(),n=h*r/a,s=n.toString().split(".");return n=s[0]>=5?Math.ceil(n):Math.floor(n),i={height:n,width:r}}function i(t){var i=t.css("background-image"),o;i=i.match(/^url\("?(.+?)"?\)$/),i[1]&&(i=i[1],o=new Image,$(o).load(function(){return console.log(o.width+"x"+o.height),[{width:o.width,height:o.height}]}),o.src=i)}function o(){var i={width:1569,height:600},o=t($(".section-map-area .wrap")),e=o.width,a=o.height,h=o.width/i.width,r=o.height/i.height,n=a-$(".section-map-area .wrap").height(),s=$(window).width();if(s>768){$("#locations_popovers").css("left","50%").css("top",(a-n)/2+"px");for(var c=0,p=location_positions.length;p>c;++c){var d=location_positions[c].elem,l=location_positions[c].position,g=l.split("|"),w=g[0]*h-$(d).width()/2,u=g[1]*r-$(d).height()+20;$(d).css("left",w+"px").css("top",u+"px");var f=$(d).offset(),m=$(d).css("bottom");"auto"==m&&(m=$(window).height()-f.top-$(d).height()),$(d).css("bottom",m).css("top","auto")}}}var e='<div style="height: 100px; width: 100px; background-color: red; opacity: 0.5;position: absolute;top: 50%; left: 50%;"></div>';o(),$("a.map-marker").hover(function(t){}),$("a.map-marker").click(function(t){t.preventDefault();var i=$(this).attr("map-data");$("#the-hand iframe").attr("src",i),o()}),$(window).resize(function(){o()}),o()});